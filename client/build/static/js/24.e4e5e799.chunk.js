(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{369:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(7),i=a.n(s),l=a(4),o=a.n(l),c=a(8),u=a.n(c),m=a(3),f=a.n(m),h=a(5),p=a.n(h),d=a(1),g=a(6),y=a(10),E=a(9),v=a.n(E),b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},O=function(e){function t(e){o()(this,t);var a=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setScale=function(){var e=a.avatarChildren;if(e){var t=e.offsetWidth,n=g.findDOMNode(a).getBoundingClientRect().width;n-8<t?a.setState({scale:(n-8)/t}):a.setState({scale:1})}},a.handleImgLoadError=function(){var e=a.props.onError;!1!==(e?e():void 0)&&a.setState({isImgExist:!1})},a.state={scale:1,isImgExist:!0},a}return p()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.setScale()}},{key:"componentDidUpdate",value:function(e,t){(e.children!==this.props.children||t.scale!==this.state.scale&&1===this.state.scale||t.isImgExist!==this.state.isImgExist)&&this.setScale()}},{key:"render",value:function(){var e,t,a=this,n=this.props,s=n.prefixCls,l=n.shape,o=n.size,c=n.src,u=n.icon,m=n.className,f=n.alt,h=b(n,["prefixCls","shape","size","src","icon","className","alt"]),p=this.state,g=p.isImgExist,E=p.scale,O=v()((e={},i()(e,s+"-lg","large"===o),i()(e,s+"-sm","small"===o),e)),w=v()(s,m,O,(t={},i()(t,s+"-"+l,l),i()(t,s+"-image",c&&g),i()(t,s+"-icon",u),t)),S="number"===typeof o?{width:o,height:o,lineHeight:o+"px",fontSize:u?o/2:18}:{},I=this.props.children;if(c&&g)I=d.createElement("img",{src:c,onError:this.handleImgLoadError,alt:f});else if(u)I=d.createElement(y.a,{type:u});else{if(this.avatarChildren||1!==E){var x="scale("+E+") translateX(-50%)",j={msTransform:x,WebkitTransform:x,transform:x},k="number"===typeof o?{lineHeight:o+"px"}:{};I=d.createElement("span",{className:s+"-string",ref:function(e){return a.avatarChildren=e},style:r()({},k,j)},I)}else I=d.createElement("span",{className:s+"-string",ref:function(e){return a.avatarChildren=e}},I)}return d.createElement("span",r()({},h,{style:r()({},S,h.style),className:w}),I)}}]),t}(d.Component);t.a=O,O.defaultProps={prefixCls:"ant-avatar",shape:"circle",size:"default"}},581:function(e,t,a){"use strict";a.r(t);var n=a(76),r=a(77),s=a(47),i=a(78),l=a(48),o=a(1),c=a.n(o),u=a(214),m=a.n(u),f=a(49),h=a(13),p=a(591),d=a(369),g=a(568),y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={offers:[],loading:!0},a.listStyle={textAlign:"left"},a.listMapper=function(e,t){return c.a.createElement(p.a.Item,{actions:null,key:e._id},c.a.createElement(p.a.Item.Meta,{avatar:c.a.createElement(d.a,{src:e.image,size:"large",shape:"square"}),title:a.getItemTitle(e),description:a.getItemDesc(e),style:a.listStyle}))},a.getItemTitle=function(e){var t=m()(e.date,"YYYYMMDD"),a=t.isSame(m()(),"day"),n=t.format("DD-MM-YYYY");return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{color:a?"cyan":"magenta"},c.a.createElement("b",null,"Date: ")," ",a?"Today / ":"",n),c.a.createElement(g.a,{color:"orange"},c.a.createElement("b",null,"Zone:")," ",Object(f.k)(e.zone.division+" > "+e.zone.name)))},a.getItemDesc=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{color:"blue"},c.a.createElement("b",null,"Request:")," ",e.reqBy.length),c.a.createElement(g.a,{color:"green"},c.a.createElement("b",null,"Used:")," ",e.useBy.length),c.a.createElement(g.a,{color:"pink"},c.a.createElement("b",null,"Unused:")," ",e.reqBy.length-e.useBy.length))},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,{loading:this.state.loading,itemLayout:"horizontal",dataSource:this.state.offers,renderItem:this.listMapper})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/offers",{credentials:"include"}).then(function(e){return 401===e.status&&Object(h.e)("/login"),e.json()}).then(function(t){var a=t.ok,n=t.data;if(!a)throw new Error("Something went wrong");e.setState({offers:n,loading:!1})}).catch(function(e){console.error(e)})}}]),t}(c.a.PureComponent);t.default=y}}]);
//# sourceMappingURL=24.e4e5e799.chunk.js.map