(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{571:function(e,t,n){"use strict";n.r(t);var a=n(76),o=n(77),r=n(47),i=n(78),c=n(48),l=n(1),s=n.n(l),u=n(591),m=n(50),d=n(568),f=n(13),h=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(n=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={zones:[],loading:!0},n.listStyle={textAlign:"left"},n.listMapper=function(e,t){return s.a.createElement(u.a.Item,{actions:[s.a.createElement(m.a,{onClick:n.deleteItem(e._id,t),type:"danger"},"DELETE!")]},s.a.createElement(u.a.Item.Meta,{title:n.getItemTitle(e),description:n.getItemDesc(e),style:n.listStyle}))},n.getItemTitle=function(e){return s.a.createElement(d.a,{color:"red"},s.a.createElement("b",null,"Name:")," ",e.name)},n.getItemDesc=function(e){return s.a.createElement(d.a,{color:"blue"},s.a.createElement("b",null,"Division:")," ",e.division)},n.deleteItem=function(e,t){return function(a){fetch("/api/zones/"+e,{method:"DELETE",credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(!e.ok)throw new Error("Something went wrong");n.setState(function(e){var n=e.zones.slice();return n.splice(t,1),{zones:n}})}).catch(function(e){console.error(e)})}},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(u.a,{loading:this.state.loading,itemLayout:"horizontal",dataSource:this.state.zones,renderItem:this.listMapper})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/zones",{credentials:"include"}).then(function(e){return 401===e.status&&Object(f.e)("/login"),e.json()}).then(function(t){var n=t.ok,a=t.data;if(!n)throw new Error("Something went wrong");e.setState({zones:a,loading:!1})}).catch(function(e){console.error(e)})}}]),t}(s.a.PureComponent);t.default=h}}]);
//# sourceMappingURL=14.1df51cc0.chunk.js.map