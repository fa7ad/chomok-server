(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{314:function(e,t,n){"use strict";n.r(t);var r=n(220),a=n(75),o=n(76),i=n(78),c=n(77),l=n(79),s=n(1),u=n.n(s),f=n(316),m=n(82),d=n(322),h=n(12),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={offers:[],loading:!0},n.listStyle={textAlign:"left"},n.listMapper=function(e,t){return u.a.createElement(f.a.Item,{actions:[u.a.createElement(m.a,{onClick:n.deleteItem(e._id,t),type:"danger"},"DELETE!")]},u.a.createElement(f.a.Item.Meta,{title:n.getItemTitle(e),description:n.getItemDesc(e),style:n.listStyle}))},n.getItemTitle=function(e){return u.a.createElement(d.a,{color:"red"},u.a.createElement("b",null,"Name:")," ",e.name)},n.getItemDesc=function(e){return u.a.createElement(d.a,{color:"blue"},u.a.createElement("b",null,"Division:")," ",e.division)},n.deleteItem=function(e,t){return function(a){fetch("/api/zones/"+e,{method:"DELETE",credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(!e.ok)throw new Error("Something went wrong");n.setState(function(e){var a=Object(r.a)({},n.state);return a.offers.splice(t,1),a})}).catch(function(e){console.error(e)})}},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(f.a,{loading:this.state.loading,itemLayout:"horizontal",dataSource:this.state.offers,renderItem:this.listMapper})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/zones",{credentials:"include"}).then(function(e){return 401===e.status&&Object(h.e)("/login"),e.json()}).then(function(t){var n=t.ok,r=t.data;if(!n)throw new Error("Something went wrong");e.setState({offers:r,loading:!1})}).catch(function(e){console.error(e)})}}]),t}(u.a.PureComponent);t.default=p}}]);
//# sourceMappingURL=10.e2e89ad6.chunk.js.map